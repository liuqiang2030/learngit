package {		import flash.display.MovieClip;	import flash.text.*;	import flash.events.*;	import flash.ui.*;	/** 	*	Main Class	*	@ purpose:		Document class for movie	*/	public class Main extends MovieClip {				private var carAdapter:ICar; // declare adapter		private var oldMouseStageX:Number = 0; // default old mouse x position		public function Main() {			// show instructions			var t:TextField = new TextField();			var f:TextFormat = new TextFormat();			f.size = 12;			f.font = "Arial";			f.align = TextFormatAlign.CENTER;			t.width = 540;			t.x = 5;			t.y = 20;			t.text = "To turn steering wheel move mouse horizontally on the stage. CLICK straightens steering";			t.setTextFormat(f);			addChild(t);						// Create a legacy car			var legacyCar:LegacyCar = new LegacyCar(this.stage.stageWidth * 0.5, 								  this.stage.stageHeight * 0.75);			addChild(legacyCar); // add legacy car to stage display list						// Wrap legacy car with the carAdapter			this.carAdapter = new CarAdapter(legacyCar);						// attach MOUSE_MOVE and MOUSE_DOWN events to the stage			this.stage.addEventListener(MouseEvent.MOUSE_MOVE, this.doMouseMove);			this.stage.addEventListener(MouseEvent.MOUSE_DOWN, this.doMouseDown);						carAdapter.start();		}				private function doMouseDown(event:MouseEvent):void {		   this.carAdapter.goStraight();		}				private function doMouseMove(event:MouseEvent):void {			// change in horizontal mouse position			var xDiff = event.stageX - this.oldMouseStageX;			if (xDiff > 0) {				this.carAdapter.turnMoreToTheRight();			} else {				this.carAdapter.turnMoreToTheLeft();			}			event.updateAfterEvent(); // process this event first			this.oldMouseStageX = event.stageX // save old mouse x position		}	} }